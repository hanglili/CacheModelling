package com.cachemodelling;

public class StudentsTable {
  public static final int nAlphas = 11;

  public static int getAlphaIndex(double alpha) {
    for (int i = 0; i < nAlphas; i++) {
      if (alphas[i] == alpha) {
        return i;
      }
    };
    throw new IllegalStateException("No Student's t table entry for alpha = " +
        alpha + "%");
  }

  public static double getPercentile(int dof, double alpha) {
    if (dof <= 0) {
      throw new IllegalStateException("DoF must be greater than 0");
    } else if (dof <= 120) {
      return table[dof - 1][getAlphaIndex(alpha)];
    } else
      return tableInf[getAlphaIndex(alpha)];
  }

  public static final double[] alphas
      = {50,60,70,80,90,95,98,99,99.5,99.8,99.9};

  public static final double[] tableInf
      = {0.674,0.842,1.036,1.282,1.645,1.96,2.326,2.576,2.807,3.09,3.291};

  public static final double[][] table
      = {{1,1.376,1.963,3.078,6.314,12.71,31.82,63.66,127.3,318.3,636.6},
      {0.816,1.08,1.386,1.886,2.92,4.303,6.965,9.925,14.09,22.33,31.6},
      {0.765,0.978,1.25,1.638,2.353,3.182,4.541,5.841,7.453,10.21,12.92},
      {0.741,0.941,1.19,1.533,2.132,2.776,3.747,4.604,5.598,7.173,8.61},
      {0.727,0.92,1.156,1.476,2.015,2.571,3.365,4.032,4.773,5.893,6.869},
      {0.718,0.906,1.134,1.44,1.943,2.447,3.143,3.707,4.317,5.208,5.959},
      {0.711,0.896,1.119,1.415,1.895,2.365,2.998,3.499,4.029,4.785,5.408},
      {0.706,0.889,1.108,1.397,1.86,2.306,2.896,3.355,3.833,4.501,5.041},
      {0.703,0.883,1.1,1.383,1.833,2.262,2.821,3.25,3.69,4.297,4.781},
      {0.7,0.879,1.093,1.372,1.812,2.228,2.764,3.169,3.581,4.144,4.587},
      {0.697,0.876,1.088,1.363,1.796,2.201,2.718,3.106,3.497,4.025,4.437},
      {0.695,0.873,1.083,1.356,1.782,2.179,2.681,3.055,3.428,3.93,4.318},
      {0.694,0.87,1.079,1.35,1.771,2.16,2.65,3.012,3.372,3.852,4.221},
      {0.692,0.868,1.076,1.345,1.761,2.145,2.624,2.977,3.326,3.787,4.14},
      {0.691,0.866,1.074,1.341,1.753,2.131,2.602,2.947,3.286,3.733,4.073},
      {0.69,0.865,1.071,1.337,1.746,2.12,2.583,2.921,3.252,3.686,4.015},
      {0.689,0.863,1.069,1.333,1.74,2.11,2.567,2.898,3.222,3.646,3.965},
      {0.688,0.862,1.067,1.33,1.734,2.101,2.552,2.878,3.197,3.61,3.922},
      {0.688,0.861,1.066,1.328,1.729,2.093,2.539,2.861,3.174,3.579,3.883},
      {0.687,0.86,1.064,1.325,1.725,2.086,2.528,2.845,3.153,3.552,3.85},
      {0.686,0.859,1.063,1.323,1.721,2.08,2.518,2.831,3.135,3.527,3.819},
      {0.686,0.858,1.061,1.321,1.717,2.074,2.508,2.819,3.119,3.505,3.792},
      {0.685,0.858,1.06,1.319,1.714,2.069,2.5,2.807,3.104,3.485,3.767},
      {0.685,0.857,1.059,1.318,1.711,2.064,2.492,2.797,3.091,3.467,3.745},
      {0.684,0.856,1.058,1.316,1.708,2.06,2.485,2.787,3.078,3.45,3.725},
      {0.684,0.856,1.058,1.315,1.706,2.056,2.479,2.779,3.067,3.435,3.707},
      {0.684,0.855,1.057,1.314,1.703,2.052,2.473,2.771,3.057,3.421,3.69},
      {0.683,0.855,1.056,1.313,1.701,2.048,2.467,2.763,3.047,3.408,3.674},
      {0.683,0.854,1.055,1.311,1.699,2.045,2.462,2.756,3.038,3.396,3.659},
      {0.683,0.854,1.055,1.31,1.697,2.042,2.457,2.75,3.03,3.385,3.646},
      {0.6828,0.8537,1.0545,1.3093,1.6957,2.0399,2.4536,2.7454,3.0241,3.3772,3.6365},
      {0.6826,0.8534,1.054,1.3086,1.6944,2.0378,2.4502,2.7408,3.0182,3.3694,3.627},
      {0.6824,0.8531,1.0535,1.3079,1.6931,2.0357,2.4468,2.7362,3.0123,3.3616,3.6175},
      {0.6822,0.8528,1.053,1.3072,1.6918,2.0336,2.4434,2.7316,3.0064,3.3538,3.608},
      {0.682,0.8525,1.0525,1.3065,1.6905,2.0315,2.44,2.727,3.0005,3.346,3.5985},
      {0.6818,0.8522,1.052,1.3058,1.6892,2.0294,2.4366,2.7224,2.9946,3.3382,3.589},
      {0.6816,0.8519,1.0515,1.3051,1.6879,2.0273,2.4332,2.7178,2.9887,3.3304,3.5795},
      {0.6814,0.8516,1.051,1.3044,1.6866,2.0252,2.4298,2.7132,2.9828,3.3226,3.57},
      {0.6812,0.8513,1.0505,1.3037,1.6853,2.0231,2.4264,2.7086,2.9769,3.3148,3.5605},
      {0.681,0.851,1.05,1.303,1.684,2.021,2.423,2.704,2.971,3.307,3.551},
      {0.6808,0.8508,1.0497,1.3026,1.6832,2.0198,2.421,2.7014,2.9676,3.3024,3.5455},
      {0.6806,0.8506,1.0494,1.3022,1.6824,2.0186,2.419,2.6988,2.9642,3.2978,3.54},
      {0.6804,0.8504,1.0491,1.3018,1.6816,2.0174,2.417,2.6962,2.9608,3.2932,3.5345},
      {0.6802,0.8502,1.0488,1.3014,1.6808,2.0162,2.415,2.6936,2.9574,3.2886,3.529},
      {0.68,0.85,1.0485,1.301,1.68,2.015,2.413,2.691,2.954,3.284,3.5235},
      {0.6798,0.8498,1.0482,1.3006,1.6792,2.0138,2.411,2.6884,2.9506,3.2794,3.518},
      {0.6796,0.8496,1.0479,1.3002,1.6784,2.0126,2.409,2.6858,2.9472,3.2748,3.5125},
      {0.6794,0.8494,1.0476,1.2998,1.6776,2.0114,2.407,2.6832,2.9438,3.2702,3.507},
      {0.6792,0.8492,1.0473,1.2994,1.6768,2.0102,2.405,2.6806,2.9404,3.2656,3.5015},
      {0.679,0.849,1.047,1.299,1.676,2.009,2.403,2.678,2.937,3.261,3.496},
      {0.679,0.8489,1.0468,1.2987,1.6755,2.0081,2.4017,2.6762,2.9348,3.2581,3.4924},
      {0.679,0.8488,1.0466,1.2984,1.675,2.0072,2.4004,2.6744,2.9326,3.2552,3.4888},
      {0.679,0.8487,1.0464,1.2981,1.6745,2.0063,2.3991,2.6726,2.9304,3.2523,3.4852},
      {0.679,0.8486,1.0462,1.2978,1.674,2.0054,2.3978,2.6708,2.9282,3.2494,3.4816},
      {0.679,0.8485,1.046,1.2975,1.6735,2.0045,2.3965,2.669,2.926,3.2465,3.478},
      {0.679,0.8484,1.0458,1.2972,1.673,2.0036,2.3952,2.6672,2.9238,3.2436,3.4744},
      {0.679,0.8483,1.0456,1.2969,1.6725,2.0027,2.3939,2.6654,2.9216,3.2407,3.4708},
      {0.679,0.8482,1.0454,1.2966,1.672,2.0018,2.3926,2.6636,2.9194,3.2378,3.4672},
      {0.679,0.8481,1.0452,1.2963,1.6715,2.0009,2.3913,2.6618,2.9172,3.2349,3.4636},
      {0.679,0.848,1.045,1.296,1.671,2,2.39,2.66,2.915,3.232,3.46},
      {0.67895,0.8479,1.0449,1.2958,1.67065,1.9995,2.3892,2.65895,2.9136,3.23015,3.4578},
      {0.6789,0.8478,1.0448,1.2956,1.6703,1.999,2.3884,2.6579,2.9122,3.2283,3.4556},
      {0.67885,0.8477,1.0447,1.2954,1.66995,1.9985,2.3876,2.65685,2.9108,3.22645,3.4534},
      {0.6788,0.8476,1.0446,1.2952,1.6696,1.998,2.3868,2.6558,2.9094,3.2246,3.4512},
      {0.67875,0.8475,1.0445,1.295,1.66925,1.9975,2.386,2.65475,2.908,3.22275,3.449},
      {0.6787,0.8474,1.0444,1.2948,1.6689,1.997,2.3852,2.6537,2.9066,3.2209,3.4468},
      {0.67865,0.8473,1.0443,1.2946,1.66855,1.9965,2.3844,2.65265,2.9052,3.21905,3.4446},
      {0.6786,0.8472,1.0442,1.2944,1.6682,1.996,2.3836,2.6516,2.9038,3.2172,3.4424},
      {0.67855,0.8471,1.0441,1.2942,1.66785,1.9955,2.3828,2.65055,2.9024,3.21535,3.4402},
      {0.6785,0.847,1.044,1.294,1.6675,1.995,2.382,2.6495,2.901,3.2135,3.438},
      {0.67845,0.8469,1.0439,1.2938,1.66715,1.9945,2.3812,2.64845,2.8996,3.21165,3.4358},
      {0.6784,0.8468,1.0438,1.2936,1.6668,1.994,2.3804,2.6474,2.8982,3.2098,3.4336},
      {0.67835,0.8467,1.0437,1.2934,1.66645,1.9935,2.3796,2.64635,2.8968,3.20795,3.4314},
      {0.6783,0.8466,1.0436,1.2932,1.6661,1.993,2.3788,2.6453,2.8954,3.2061,3.4292},
      {0.67825,0.8465,1.0435,1.293,1.66575,1.9925,2.378,2.64425,2.894,3.20425,3.427},
      {0.6782,0.8464,1.0434,1.2928,1.6654,1.992,2.3772,2.6432,2.8926,3.2024,3.4248},
      {0.67815,0.8463,1.0433,1.2926,1.66505,1.9915,2.3764,2.64215,2.8912,3.20055,3.4226},
      {0.6781,0.8462,1.0432,1.2924,1.6647,1.991,2.3756,2.6411,2.8898,3.1987,3.4204},
      {0.67805,0.8461,1.0431,1.2922,1.66435,1.9905,2.3748,2.64005,2.8884,3.19685,3.4182},
      {0.678,0.846,1.043,1.292,1.664,1.99,2.374,2.639,2.887,3.195,3.416},
      {0.67795,0.84595,1.04295,1.2919,1.6638,1.9897,2.3735,2.63835,2.8862,3.19395,3.4147},
      {0.6779,0.8459,1.0429,1.2918,1.6636,1.9894,2.373,2.6377,2.8854,3.1929,3.4134},
      {0.67785,0.84585,1.04285,1.2917,1.6634,1.9891,2.3725,2.63705,2.8846,3.19185,3.4121},
      {0.6778,0.8458,1.0428,1.2916,1.6632,1.9888,2.372,2.6364,2.8838,3.1908,3.4108},
      {0.67775,0.84575,1.04275,1.2915,1.663,1.9885,2.3715,2.63575,2.883,3.18975,3.4095},
      {0.6777,0.8457,1.0427,1.2914,1.6628,1.9882,2.371,2.6351,2.8822,3.1887,3.4082},
      {0.67765,0.84565,1.04265,1.2913,1.6626,1.9879,2.3705,2.63445,2.8814,3.18765,3.4069},
      {0.6776,0.8456,1.0426,1.2912,1.6624,1.9876,2.37,2.6338,2.8806,3.1866,3.4056},
      {0.67755,0.84555,1.04255,1.2911,1.6622,1.9873,2.3695,2.63315,2.8798,3.18555,3.4043},
      {0.6775,0.8455,1.0425,1.291,1.662,1.987,2.369,2.6325,2.879,3.1845,3.403},
      {0.67745,0.84545,1.04245,1.2909,1.6618,1.9867,2.3685,2.63185,2.8782,3.18345,3.4017},
      {0.6774,0.8454,1.0424,1.2908,1.6616,1.9864,2.368,2.6312,2.8774,3.1824,3.4004},
      {0.67735,0.84535,1.04235,1.2907,1.6614,1.9861,2.3675,2.63055,2.8766,3.18135,3.3991},
      {0.6773,0.8453,1.0423,1.2906,1.6612,1.9858,2.367,2.6299,2.8758,3.1803,3.3978},
      {0.67725,0.84525,1.04225,1.2905,1.661,1.9855,2.3665,2.62925,2.875,3.17925,3.3965},
      {0.6772,0.8452,1.0422,1.2904,1.6608,1.9852,2.366,2.6286,2.8742,3.1782,3.3952},
      {0.67715,0.84515,1.04215,1.2903,1.6606,1.9849,2.3655,2.62795,2.8734,3.17715,3.3939},
      {0.6771,0.8451,1.0421,1.2902,1.6604,1.9846,2.365,2.6273,2.8726,3.1761,3.3926},
      {0.67705,0.84505,1.04205,1.2901,1.6602,1.9843,2.3645,2.62665,2.8718,3.17505,3.3913},
      {0.677,0.845,1.042,1.29,1.66,1.984,2.364,2.626,2.871,3.174,3.39},
      {0.677,0.845,1.04195,1.28995,1.6599,1.9838,2.3637,2.62555,2.87045,3.1733,3.38915},
      {0.677,0.845,1.0419,1.2899,1.6598,1.9836,2.3634,2.6251,2.8699,3.1726,3.3883},
      {0.677,0.845,1.04185,1.28985,1.6597,1.9834,2.3631,2.62465,2.86935,3.1719,3.38745},
      {0.677,0.845,1.0418,1.2898,1.6596,1.9832,2.3628,2.6242,2.8688,3.1712,3.3866},
      {0.677,0.845,1.04175,1.28975,1.6595,1.983,2.3625,2.62375,2.86825,3.1705,3.38575},
      {0.677,0.845,1.0417,1.2897,1.6594,1.9828,2.3622,2.6233,2.8677,3.1698,3.3849},
      {0.677,0.845,1.04165,1.28965,1.6593,1.9826,2.3619,2.62285,2.86715,3.1691,3.38405},
      {0.677,0.845,1.0416,1.2896,1.6592,1.9824,2.3616,2.6224,2.8666,3.1684,3.3832},
      {0.677,0.845,1.04155,1.28955,1.6591,1.9822,2.3613,2.62195,2.86605,3.1677,3.38235},
      {0.677,0.845,1.0415,1.2895,1.659,1.982,2.361,2.6215,2.8655,3.167,3.3815},
      {0.677,0.845,1.04145,1.28945,1.6589,1.9818,2.3607,2.62105,2.86495,3.1663,3.38065},
      {0.677,0.845,1.0414,1.2894,1.6588,1.9816,2.3604,2.6206,2.8644,3.1656,3.3798},
      {0.677,0.845,1.04135,1.28935,1.6587,1.9814,2.3601,2.62015,2.86385,3.1649,3.37895},
      {0.677,0.845,1.0413,1.2893,1.6586,1.9812,2.3598,2.6197,2.8633,3.1642,3.3781},
      {0.677,0.845,1.04125,1.28925,1.6585,1.981,2.3595,2.61925,2.86275,3.1635,3.37725},
      {0.677,0.845,1.0412,1.2892,1.6584,1.9808,2.3592,2.6188,2.8622,3.1628,3.3764},
      {0.677,0.845,1.04115,1.28915,1.6583,1.9806,2.3589,2.61835,2.86165,3.1621,3.37555},
      {0.677,0.845,1.0411,1.2891,1.6582,1.9804,2.3586,2.6179,2.8611,3.1614,3.3747},
      {0.677,0.845,1.04105,1.28905,1.6581,1.9802,2.3583,2.61745,2.86055,3.1607,3.37385},
      {0.677,0.845,1.041,1.289,1.658,1.98,2.358,2.617,2.86,3.16,3.373}};
}
